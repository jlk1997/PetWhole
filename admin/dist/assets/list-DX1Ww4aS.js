import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as h,v as q,c as fe,A as ge,b as k,d as r,e as t,w as l,g as u,D as _e,o as m,p as o,F as D,h as F,J as he,i as x,t as p,f as C,E as G,s as M}from"./index-BZUGXbIj.js";const be={class:"merchants-container"},ye={class:"page-header"},we={class:"page-header-actions"},xe={class:"pagination-container"},Ve={class:"merchant-detail"},ke={class:"merchant-header"},Ce={class:"merchant-logo"},Pe={class:"merchant-title"},Te={class:"merchant-tags"},$e={class:"merchant-info"},ze={class:"merchant-description"},Ne={key:0,class:"merchant-services"},Ue={class:"service-tags"},Se={key:1,class:"merchant-images"},Be={class:"images-container"},De={class:"dialog-footer"},Fe={class:"dialog-footer"},Me={__name:"list",setup(Ee){const U=h(!1),z=h(!1),P=h(!1),y=h(1),T=h(10),S=h(0),K=[{value:"pet_hospital",label:"宠物医院"},{value:"pet_shop",label:"宠物商店"},{value:"pet_service",label:"宠物服务"},{value:"pet_beauty",label:"宠物美容"},{value:"pet_training",label:"宠物训练"},{value:"pet_hotel",label:"宠物酒店"},{value:"pet_park",label:"宠物公园"},{value:"cafe",label:"宠物友好咖啡厅"},{value:"restaurant",label:"宠物友好餐厅"},{value:"others",label:"其他"}],Q=[{value:"北京市",label:"北京市",children:[{value:"朝阳区",label:"朝阳区"},{value:"海淀区",label:"海淀区"},{value:"东城区",label:"东城区"},{value:"西城区",label:"西城区"},{value:"丰台区",label:"丰台区"}]},{value:"上海市",label:"上海市",children:[{value:"浦东新区",label:"浦东新区"},{value:"静安区",label:"静安区"},{value:"黄浦区",label:"黄浦区"},{value:"徐汇区",label:"徐汇区"}]}],i=q({name:"",type:"",area:[],status:""}),W=h(null),c=q({id:"",status:"active",verified:!1,comment:""}),n=h({}),_=h([{id:1,name:"爱心宠物诊所",logo:"https://img.icons8.com/color/96/000000/veterinarian.png",type:"pet_hospital",typeName:"宠物医院",area:"北京市朝阳区",address:"朝阳区建国路88号",contactPerson:"张医生",contactPhone:"13800138000",email:"aixin@example.com",businessHours:"9:00-21:00",verified:!0,status:"active",createTime:"2023-10-15 10:00:00",description:"专业宠物医院，提供全方位的宠物医疗和保健服务。拥有先进的医疗设备和经验丰富的兽医团队。",services:["健康检查","疫苗接种","手术治疗","宠物美容","宠物寄养"],images:["https://images.unsplash.com/photo-1516734212186-a967f81ad0d7","https://images.unsplash.com/photo-1582486225544-ac37bc196434","https://images.unsplash.com/photo-1564760055775-d63b17a55c44"]},{id:2,name:"萌宠用品商城",logo:"https://img.icons8.com/color/96/000000/pet-shop.png",type:"pet_shop",typeName:"宠物商店",area:"北京市海淀区",address:"海淀区中关村南大街5号",contactPerson:"李经理",contactPhone:"13900139000",email:"mengchong@example.com",businessHours:"10:00-22:00",verified:!0,status:"active",createTime:"2023-10-20 14:30:00",description:"提供各类高质量的宠物用品，包括食品、玩具、服装等。我们注重产品质量和宠物健康。",services:["宠物用品","宠物食品","宠物玩具","宠物服装","宠物饰品"],images:["https://images.unsplash.com/photo-1602612142771-04b0adfca95d","https://images.unsplash.com/photo-1583337130417-3346a1be7dee"]},{id:3,name:"汪汪训练中心",logo:"https://img.icons8.com/color/96/000000/dog-training.png",type:"pet_training",typeName:"宠物训练",area:"北京市丰台区",address:"丰台区丰台南路18号",contactPerson:"王教练",contactPhone:"13700137000",email:"training@example.com",businessHours:"9:00-18:00",verified:!1,status:"pending",createTime:"2023-11-05 09:15:00",description:"专业的狗狗训练中心，提供基础训练、行为矫正、特殊技能训练等服务。我们的训练师都拥有多年经验。",services:["基础训练","行为矫正","社交训练","特殊技能训练","一对一指导"],images:["https://images.unsplash.com/photo-1516734212186-a967f81ad0d7"]},{id:4,name:"宠悦美容会所",logo:"https://img.icons8.com/color/96/000000/scissors.png",type:"pet_beauty",typeName:"宠物美容",area:"上海市静安区",address:"静安区南京西路88号",contactPerson:"赵美容师",contactPhone:"13600136000",email:"beauty@example.com",businessHours:"10:00-20:00",verified:!0,status:"disabled",createTime:"2023-09-25 11:30:00",description:"高端宠物美容会所，提供专业的宠物美容和SPA服务。我们使用天然环保的美容产品，呵护每一位宠物的健康。",services:["洗澡","美容","SPA","按摩","造型设计"],images:["https://images.unsplash.com/photo-1516734212186-a967f81ad0d7","https://images.unsplash.com/photo-1518832553624-3f5c31a15802"]},{id:5,name:"喵喵咖啡馆",logo:"https://img.icons8.com/color/96/000000/cafe.png",type:"cafe",typeName:"宠物友好咖啡厅",area:"上海市徐汇区",address:"徐汇区衡山路120号",contactPerson:"钱店长",contactPhone:"13500135000",email:"miaocafe@example.com",businessHours:"11:00-23:00",verified:!1,status:"pending",createTime:"2023-11-10 16:00:00",description:"宠物友好的咖啡馆，欢迎主人带着爱宠一起来享用美食和咖啡。我们有专门的宠物区域和宠物专属菜单。",services:["咖啡","简餐","宠物专属菜单","宠物活动","宠物社交"],images:["https://images.unsplash.com/photo-1511920170033-f8396924c348","https://images.unsplash.com/photo-1510972527921-ce03766a1cf1"]}]),X=fe(()=>{let s=_.value;if(i.name&&(s=s.filter(v=>v.name.includes(i.name))),i.type&&(s=s.filter(v=>v.type===i.type)),i.area&&i.area.length>0)if(i.area.length>=2){const v=i.area.join("");s=s.filter(g=>g.area.includes(v))}else s=s.filter(v=>v.area.includes(i.area[0]));i.status&&(s=s.filter(v=>v.status===i.status)),S.value=s.length;const e=(y.value-1)*T.value,d=e+T.value;return s.slice(e,d)});ge(()=>{E()});const E=()=>{U.value=!0,setTimeout(()=>{S.value=_.value.length,U.value=!1},500)},Y=()=>{E()},H=s=>{switch(s){case"active":return"success";case"pending":return"warning";case"disabled":return"danger";default:return"info"}},I=s=>{switch(s){case"active":return"正常";case"pending":return"待审核";case"disabled":return"已禁用";default:return"未知"}},$=()=>{y.value=1},Z=()=>{i.name="",i.type="",i.area=[],i.status="",y.value=1},ee=s=>{T.value=s,y.value=1},te=s=>{y.value=s},le=s=>{n.value=s,z.value=!0},ae=s=>{c.id=s.id,c.status="active",c.verified=!1,c.comment="",P.value=!0},se=s=>{G.confirm("确定要禁用该商家吗？禁用后商家将无法正常运营","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=_.value.findIndex(d=>d.id===s.id);e!==-1&&(_.value[e].status="disabled"),M.success("商家已禁用")}).catch(()=>{})},oe=s=>{G.confirm("确定要启用该商家吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(()=>{const e=_.value.findIndex(d=>d.id===s.id);e!==-1&&(_.value[e].status="active"),M.success("商家已启用")}).catch(()=>{})},ne=()=>{const s=_.value.findIndex(e=>e.id===c.id);s!==-1&&(_.value[s].status=c.status,_.value[s].verified=c.verified),P.value=!1,M.success("商家审核完成")};return(s,e)=>{const d=u("el-button"),v=u("el-input"),g=u("el-form-item"),N=u("el-option"),A=u("el-select"),ie=u("el-cascader"),R=u("el-form"),j=u("el-card"),f=u("el-table-column"),B=u("el-image"),V=u("el-tag"),re=u("el-table"),ue=u("el-pagination"),L=u("el-divider"),b=u("el-descriptions-item"),de=u("el-descriptions"),J=u("el-dialog"),O=u("el-radio"),pe=u("el-radio-group"),ce=u("el-switch"),me=_e("loading");return m(),k("div",be,[r("div",ye,[e[17]||(e[17]=r("h2",null,"商家管理",-1)),r("div",we,[t(d,{type:"primary",onClick:e[0]||(e[0]=a=>s.$router.push("/merchants/add"))},{default:l(()=>e[15]||(e[15]=[o("添加商家")])),_:1}),t(d,{type:"primary",onClick:Y},{default:l(()=>e[16]||(e[16]=[o("刷新")])),_:1})])]),t(j,{shadow:"hover",class:"filter-card"},{default:l(()=>[t(R,{inline:!0,model:i,class:"filter-form"},{default:l(()=>[t(g,{label:"商家名称"},{default:l(()=>[t(v,{modelValue:i.name,"onUpdate:modelValue":e[1]||(e[1]=a=>i.name=a),placeholder:"输入商家名称",clearable:"",onClear:$},null,8,["modelValue"])]),_:1}),t(g,{label:"商家类型"},{default:l(()=>[t(A,{modelValue:i.type,"onUpdate:modelValue":e[2]||(e[2]=a=>i.type=a),placeholder:"选择商家类型",clearable:"",onChange:$},{default:l(()=>[(m(),k(D,null,F(K,a=>t(N,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"所在区域"},{default:l(()=>[t(ie,{modelValue:i.area,"onUpdate:modelValue":e[3]||(e[3]=a=>i.area=a),options:Q,clearable:"",filterable:"",placeholder:"选择区域",onChange:$},null,8,["modelValue"])]),_:1}),t(g,{label:"状态"},{default:l(()=>[t(A,{modelValue:i.status,"onUpdate:modelValue":e[4]||(e[4]=a=>i.status=a),placeholder:"选择状态",clearable:"",onChange:$},{default:l(()=>[t(N,{label:"正常",value:"active"}),t(N,{label:"待审核",value:"pending"}),t(N,{label:"已禁用",value:"disabled"})]),_:1},8,["modelValue"])]),_:1}),t(g,null,{default:l(()=>[t(d,{type:"primary",onClick:$},{default:l(()=>e[18]||(e[18]=[o("查询")])),_:1}),t(d,{onClick:Z},{default:l(()=>e[19]||(e[19]=[o("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(j,{shadow:"hover",class:"merchants-card"},{default:l(()=>[he((m(),x(re,{data:X.value,style:{width:"100%"}},{default:l(()=>[t(f,{prop:"id",label:"ID",width:"80"}),t(f,{label:"Logo",width:"100"},{default:l(a=>[t(B,{style:{width:"50px",height:"50px","border-radius":"4px"},src:a.row.logo,"preview-src-list":[a.row.logo],fit:"cover"},null,8,["src","preview-src-list"])]),_:1}),t(f,{prop:"name",label:"商家名称","min-width":"150"}),t(f,{prop:"typeName",label:"商家类型",width:"120"}),t(f,{prop:"area",label:"所在区域",width:"150"}),t(f,{prop:"contactPerson",label:"联系人",width:"100"}),t(f,{prop:"contactPhone",label:"联系电话",width:"150"}),t(f,{label:"认证状态",width:"100"},{default:l(a=>[t(V,{type:a.row.verified?"success":"info"},{default:l(()=>[o(p(a.row.verified?"已认证":"未认证"),1)]),_:2},1032,["type"])]),_:1}),t(f,{label:"状态",width:"100"},{default:l(a=>[t(V,{type:H(a.row.status)},{default:l(()=>[o(p(I(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),t(f,{prop:"createTime",label:"创建时间",width:"180"}),t(f,{label:"操作",width:"250",fixed:"right"},{default:l(a=>[t(d,{size:"small",type:"primary",onClick:w=>le(a.row)},{default:l(()=>e[20]||(e[20]=[o("查看")])),_:2},1032,["onClick"]),t(d,{size:"small",type:"success",onClick:w=>s.$router.push(`/merchants/edit/${a.row.id}`)},{default:l(()=>e[21]||(e[21]=[o("编辑")])),_:2},1032,["onClick"]),a.row.status==="pending"?(m(),x(d,{key:0,size:"small",type:"warning",onClick:w=>ae(a.row)},{default:l(()=>e[22]||(e[22]=[o("审核")])),_:2},1032,["onClick"])):C("",!0),a.row.status==="active"?(m(),x(d,{key:1,size:"small",type:"danger",onClick:w=>se(a.row)},{default:l(()=>e[23]||(e[23]=[o("禁用")])),_:2},1032,["onClick"])):C("",!0),a.row.status==="disabled"?(m(),x(d,{key:2,size:"small",type:"success",onClick:w=>oe(a.row)},{default:l(()=>e[24]||(e[24]=[o("启用")])),_:2},1032,["onClick"])):C("",!0)]),_:1})]),_:1},8,["data"])),[[me,U.value]]),r("div",xe,[t(ue,{"current-page":y.value,"onUpdate:currentPage":e[5]||(e[5]=a=>y.value=a),"page-size":T.value,"onUpdate:pageSize":e[6]||(e[6]=a=>T.value=a),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:S.value,onSizeChange:ee,onCurrentChange:te},null,8,["current-page","page-size","total"])])]),_:1}),t(J,{modelValue:z.value,"onUpdate:modelValue":e[9]||(e[9]=a=>z.value=a),title:"商家详情",width:"800px"},{footer:l(()=>[r("div",De,[t(d,{onClick:e[7]||(e[7]=a=>z.value=!1)},{default:l(()=>e[29]||(e[29]=[o("关闭")])),_:1}),t(d,{type:"primary",onClick:e[8]||(e[8]=a=>s.$router.push(`/merchants/edit/${n.value.id}`))},{default:l(()=>e[30]||(e[30]=[o("编辑")])),_:1})])]),default:l(()=>[r("div",Ve,[r("div",ke,[r("div",Ce,[t(B,{style:{width:"100px",height:"100px","border-radius":"4px"},src:n.value.logo,"preview-src-list":[n.value.logo],fit:"cover"},null,8,["src","preview-src-list"])]),r("div",Pe,[r("h3",null,p(n.value.name),1),r("div",Te,[n.value.verified?(m(),x(V,{key:0,type:"success"},{default:l(()=>e[25]||(e[25]=[o("已认证")])),_:1})):C("",!0),t(V,{type:H(n.value.status)},{default:l(()=>[o(p(I(n.value.status)),1)]),_:1},8,["type"]),t(V,{type:"info"},{default:l(()=>[o(p(n.value.typeName),1)]),_:1})])])]),t(L),r("div",$e,[t(de,{column:2,border:""},{default:l(()=>[t(b,{label:"商家ID"},{default:l(()=>[o(p(n.value.id),1)]),_:1}),t(b,{label:"创建时间"},{default:l(()=>[o(p(n.value.createTime),1)]),_:1}),t(b,{label:"联系人"},{default:l(()=>[o(p(n.value.contactPerson),1)]),_:1}),t(b,{label:"联系电话"},{default:l(()=>[o(p(n.value.contactPhone),1)]),_:1}),t(b,{label:"Email"},{default:l(()=>[o(p(n.value.email),1)]),_:1}),t(b,{label:"营业时间"},{default:l(()=>[o(p(n.value.businessHours),1)]),_:1}),t(b,{label:"所在区域"},{default:l(()=>[o(p(n.value.area),1)]),_:1}),t(b,{label:"详细地址"},{default:l(()=>[o(p(n.value.address),1)]),_:1})]),_:1})]),t(L),r("div",ze,[e[26]||(e[26]=r("h4",null,"商家介绍",-1)),r("p",null,p(n.value.description||"暂无介绍"),1)]),n.value.services&&n.value.services.length?(m(),k("div",Ne,[e[27]||(e[27]=r("h4",null,"提供服务",-1)),r("div",Ue,[(m(!0),k(D,null,F(n.value.services,a=>(m(),x(V,{key:a,class:"service-tag"},{default:l(()=>[o(p(a),1)]),_:2},1024))),128))])])):C("",!0),n.value.images&&n.value.images.length?(m(),k("div",Se,[e[28]||(e[28]=r("h4",null,"商家图片",-1)),r("div",Be,[(m(!0),k(D,null,F(n.value.images,(a,w)=>(m(),x(B,{key:w,style:{width:"120px",height:"120px",margin:"5px","border-radius":"4px"},src:a,"preview-src-list":n.value.images,"initial-index":w,fit:"cover"},null,8,["src","preview-src-list","initial-index"]))),128))])])):C("",!0)])]),_:1},8,["modelValue"]),t(J,{modelValue:P.value,"onUpdate:modelValue":e[14]||(e[14]=a=>P.value=a),title:"商家审核",width:"500px"},{footer:l(()=>[r("div",Fe,[t(d,{onClick:e[13]||(e[13]=a=>P.value=!1)},{default:l(()=>e[33]||(e[33]=[o("取消")])),_:1}),t(d,{type:"primary",onClick:ne},{default:l(()=>e[34]||(e[34]=[o("提交")])),_:1})])]),default:l(()=>[t(R,{ref_key:"verifyFormRef",ref:W,model:c,"label-width":"80px"},{default:l(()=>[t(g,{label:"审核结果",prop:"status"},{default:l(()=>[t(pe,{modelValue:c.status,"onUpdate:modelValue":e[10]||(e[10]=a=>c.status=a)},{default:l(()=>[t(O,{value:"active"},{default:l(()=>e[31]||(e[31]=[o("通过")])),_:1}),t(O,{value:"disabled"},{default:l(()=>e[32]||(e[32]=[o("拒绝")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"是否认证",prop:"verified"},{default:l(()=>[t(ce,{modelValue:c.verified,"onUpdate:modelValue":e[11]||(e[11]=a=>c.verified=a),"active-text":"认证","inactive-text":"不认证"},null,8,["modelValue"])]),_:1}),t(g,{label:"审核意见",prop:"comment"},{default:l(()=>[t(v,{modelValue:c.comment,"onUpdate:modelValue":e[12]||(e[12]=a=>c.comment=a),type:"textarea",placeholder:"请输入审核意见",rows:4},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},Ae=ve(Me,[["__scopeId","data-v-2195b668"]]);export{Ae as default};
