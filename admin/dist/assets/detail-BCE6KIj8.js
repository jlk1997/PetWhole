import{r as b,A as S,b as m,d as t,J as j,e as l,w as a,g as u,D as q,i as c,f as w,a as G,u as H,o as d,p as o,t as n,F as x,h as P,E as B,s as k}from"./index-BZUGXbIj.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"user-detail-container"},Q={class:"page-header"},W={class:"page-header-actions"},X={class:"detail-content"},Y={class:"user-profile"},Z={class:"user-avatar"},ee={class:"user-info"},te={class:"user-name"},se={class:"user-tags"},ae={class:"user-bio"},le={class:"user-actions"},oe={class:"stats-grid"},ne={class:"stat-item"},ie={class:"stat-value"},de={class:"stat-item"},ue={class:"stat-value"},re={class:"stat-item"},ce={class:"stat-value"},ve={class:"stat-item"},me={class:"stat-value"},pe={class:"pet-list"},_e={class:"pet-avatar"},fe={class:"pet-info"},ge={class:"pet-name"},be={class:"pet-breed"},ke={class:"pet-age"},Ce={class:"card-header"},he={class:"post-list"},we={class:"post-time"},ye={class:"post-title"},Te={class:"post-stats"},xe={class:"reset-form"},Pe={class:"dialog-footer"},Be={__name:"detail",setup(De){const D=G();H();const C=b(!1),p=b(!1),s=b({}),V=b([{time:"2023-11-19 14:30:22",action:"登录",ip:"112.45.67.89",detail:"通过手机APP登录"},{time:"2023-11-18 18:15:10",action:"登录",ip:"112.45.67.89",detail:"通过手机APP登录"},{time:"2023-11-17 09:22:45",action:"发布帖子",ip:"112.45.67.89",detail:"发布帖子《我家狗狗好可爱》"},{time:"2023-11-16 16:40:12",action:"修改信息",ip:"112.45.67.89",detail:"修改了个人简介"},{time:"2023-11-15 11:05:38",action:"登录",ip:"118.76.23.54",detail:"通过网页端登录"}]),I=()=>D.params.id;S(()=>{y()});const y=()=>{C.value=!0;const h=I();setTimeout(()=>{s.value={id:h,nickname:"小狗爱好者",avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",phone:"13800138000",email:"dog_lover@example.com",gender:"male",registerTime:"2023-10-15 09:30:15",lastLoginTime:"2023-11-19 14:30:22",lastLoginIp:"112.45.67.89",status:"active",postCount:15,petCount:2,followCount:28,followerCount:36,bio:"热爱宠物，尤其是狗狗。拥有两只可爱的金毛，喜欢分享它们的日常。",pets:[{id:1,name:"旺财",avatar:"https://images.unsplash.com/photo-1552053831-71594a27632d",breed:"金毛",age:3},{id:2,name:"豆豆",avatar:"https://images.unsplash.com/photo-1576201836106-db1758fd1c97",breed:"金毛",age:1}],recentPosts:[{id:1,title:"我家狗狗好可爱",createTime:"2023-11-17 09:22:45",viewCount:156,likeCount:32,commentCount:8},{id:2,title:"推荐一家靠谱的宠物医院",createTime:"2023-11-10 15:40:12",viewCount:204,likeCount:45,commentCount:12},{id:3,title:"给新手铲屎官的建议",createTime:"2023-11-05 11:20:30",viewCount:312,likeCount:87,commentCount:23}]},C.value=!1},500)},$=()=>{y()},E=()=>{k.info("功能开发中")},L=()=>{B.confirm(`确定要禁用用户 "${s.value.nickname}" 吗？禁用后该用户将无法登录。`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{s.value.status="disabled",k.success("用户已禁用")}).catch(()=>{})},R=()=>{B.confirm(`确定要启用用户 "${s.value.nickname}" 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(()=>{s.value.status="active",k.success("用户已启用")}).catch(()=>{})},A=()=>{p.value=!0},N=()=>{setTimeout(()=>{p.value=!1,k.success(`用户 ${s.value.nickname} 的密码已重置，新密码已通过短信发送`)},500)};return(h,e)=>{const r=u("el-button"),T=u("el-avatar"),f=u("el-tag"),U=u("el-divider"),v=u("el-descriptions-item"),M=u("el-descriptions"),_=u("el-card"),g=u("el-table-column"),z=u("el-table"),F=u("el-dialog"),J=q("loading");return d(),m("div",O,[t("div",Q,[e[5]||(e[5]=t("h2",null,"用户详情",-1)),t("div",W,[l(r,{onClick:e[0]||(e[0]=i=>h.$router.back())},{default:a(()=>e[3]||(e[3]=[o("返回")])),_:1}),l(r,{type:"primary",onClick:$},{default:a(()=>e[4]||(e[4]=[o("刷新")])),_:1})])]),j((d(),m("div",X,[l(_,{shadow:"hover",class:"basic-info-card"},{default:a(()=>[t("div",Y,[t("div",Z,[l(T,{src:s.value.avatar,size:100},{default:a(()=>[o(n(s.value.nickname?s.value.nickname.substring(0,1):"U"),1)]),_:1},8,["src"])]),t("div",ee,[t("h3",te,n(s.value.nickname),1),t("div",se,[l(f,{type:s.value.status==="active"?"success":"danger"},{default:a(()=>[o(n(s.value.status==="active"?"正常":"禁用"),1)]),_:1},8,["type"]),s.value.gender==="unknown"?(d(),c(f,{key:0,type:"info"},{default:a(()=>e[6]||(e[6]=[o("未知")])),_:1})):s.value.gender==="male"?(d(),c(f,{key:1,type:"success"},{default:a(()=>e[7]||(e[7]=[o("男")])),_:1})):s.value.gender==="female"?(d(),c(f,{key:2,type:"danger"},{default:a(()=>e[8]||(e[8]=[o("女")])),_:1})):w("",!0)]),t("p",ae,n(s.value.bio||"该用户暂未设置个人简介"),1)]),t("div",le,[s.value.status==="active"?(d(),c(r,{key:0,type:"danger",onClick:L},{default:a(()=>e[9]||(e[9]=[o("禁用账号")])),_:1})):(d(),c(r,{key:1,type:"success",onClick:R},{default:a(()=>e[10]||(e[10]=[o("启用账号")])),_:1})),l(r,{type:"warning",onClick:A},{default:a(()=>e[11]||(e[11]=[o("重置密码")])),_:1})])]),l(U),l(M,{column:2,border:""},{default:a(()=>[l(v,{label:"用户ID"},{default:a(()=>[o(n(s.value.id),1)]),_:1}),l(v,{label:"注册时间"},{default:a(()=>[o(n(s.value.registerTime),1)]),_:1}),l(v,{label:"手机号码"},{default:a(()=>[o(n(s.value.phone),1)]),_:1}),l(v,{label:"电子邮箱"},{default:a(()=>[o(n(s.value.email),1)]),_:1}),l(v,{label:"最后登录"},{default:a(()=>[o(n(s.value.lastLoginTime),1)]),_:1}),l(v,{label:"登录IP"},{default:a(()=>[o(n(s.value.lastLoginIp||"未知"),1)]),_:1})]),_:1})]),_:1}),l(_,{shadow:"hover",class:"stats-card"},{header:a(()=>e[12]||(e[12]=[t("div",{class:"card-header"},[t("span",null,"活动统计")],-1)])),default:a(()=>[t("div",oe,[t("div",ne,[t("div",ie,n(s.value.postCount||0),1),e[13]||(e[13]=t("div",{class:"stat-label"},"发布帖子",-1))]),t("div",de,[t("div",ue,n(s.value.petCount||0),1),e[14]||(e[14]=t("div",{class:"stat-label"},"宠物数量",-1))]),t("div",re,[t("div",ce,n(s.value.followCount||0),1),e[15]||(e[15]=t("div",{class:"stat-label"},"关注数",-1))]),t("div",ve,[t("div",me,n(s.value.followerCount||0),1),e[16]||(e[16]=t("div",{class:"stat-label"},"粉丝数",-1))])])]),_:1}),s.value.pets&&s.value.pets.length?(d(),c(_,{key:0,shadow:"hover",class:"pets-card"},{header:a(()=>e[17]||(e[17]=[t("div",{class:"card-header"},[t("span",null,"宠物列表")],-1)])),default:a(()=>[t("div",pe,[(d(!0),m(x,null,P(s.value.pets,i=>(d(),m("div",{key:i.id,class:"pet-item"},[t("div",_e,[l(T,{src:i.avatar,size:60},{default:a(()=>[o(n(i.name?i.name.substring(0,1):"P"),1)]),_:2},1032,["src"])]),t("div",fe,[t("div",ge,n(i.name),1),t("div",be,n(i.breed),1),t("div",ke,n(i.age)+"岁",1)])]))),128))])]),_:1})):w("",!0),s.value.recentPosts&&s.value.recentPosts.length?(d(),c(_,{key:1,shadow:"hover",class:"posts-card"},{header:a(()=>[t("div",Ce,[e[19]||(e[19]=t("span",null,"最近发布",-1)),l(r,{type:"text",onClick:E},{default:a(()=>e[18]||(e[18]=[o("查看全部")])),_:1})])]),default:a(()=>[t("div",he,[(d(!0),m(x,null,P(s.value.recentPosts,i=>(d(),m("div",{key:i.id,class:"post-item"},[t("div",we,n(i.createTime),1),t("div",ye,n(i.title),1),t("div",Te,[t("span",null,[e[20]||(e[20]=t("i",{class:"el-icon-view"},null,-1)),o(" "+n(i.viewCount),1)]),t("span",null,[e[21]||(e[21]=t("i",{class:"el-icon-star-on"},null,-1)),o(" "+n(i.likeCount),1)]),t("span",null,[e[22]||(e[22]=t("i",{class:"el-icon-chat-dot-round"},null,-1)),o(" "+n(i.commentCount),1)])])]))),128))])]),_:1})):w("",!0),l(_,{shadow:"hover",class:"logs-card"},{header:a(()=>e[23]||(e[23]=[t("div",{class:"card-header"},[t("span",null,"操作日志")],-1)])),default:a(()=>[l(z,{data:V.value,style:{width:"100%"}},{default:a(()=>[l(g,{prop:"time",label:"时间",width:"180"}),l(g,{prop:"action",label:"操作",width:"150"}),l(g,{prop:"ip",label:"IP地址",width:"150"}),l(g,{prop:"detail",label:"详情","min-width":"200"})]),_:1},8,["data"])]),_:1})])),[[J,C.value]]),l(F,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=i=>p.value=i),title:"重置密码",width:"400px"},{footer:a(()=>[t("span",Pe,[l(r,{onClick:e[1]||(e[1]=i=>p.value=!1)},{default:a(()=>e[27]||(e[27]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:N},{default:a(()=>e[28]||(e[28]=[o("确定重置")])),_:1})])]),default:a(()=>[t("div",xe,[t("p",null,[e[24]||(e[24]=o("确定要重置用户 ")),t("strong",null,n(s.value.nickname),1),e[25]||(e[25]=o(" 的密码吗？"))]),e[26]||(e[26]=t("p",null,"重置后将生成随机密码并通过短信发送给用户。",-1))])]),_:1},8,["modelValue"])])}}},$e=K(Be,[["__scopeId","data-v-bc73742e"]]);export{$e as default};
