<view class="container"><view class="header"><view class="back" bindtap="{{a}}"><text class="back-icon">←</text></view><view class="user-info"><text class="username">{{b}}</text><text wx:if="{{c}}" class="status">在线</text></view><view class="action"><text class="more-icon">⋮</text></view></view><scroll-view class="message-list" scroll-y="true" scroll-top="{{i}}" scroll-with-animation="{{true}}" refresher-triggered="{{j}}" refresher-enabled bindrefresherrefresh="{{k}}" bindscrolltoupper="{{l}}" ref="messageList"><view wx:if="{{d}}" class="refresh-tip"><text>加载更多消息...</text></view><view class="messages-container"><view wx:if="{{e}}" class="no-more"><text>没有更多消息了</text></view><view wx:for="{{f}}" wx:for-item="message" wx:key="i" class="{{['message-item', message.j && 'own-message']}}"><view wx:if="{{message.a}}" class="date-divider"><text>{{message.b}}</text></view><view class="message-content"><image wx:if="{{message.c}}" class="avatar" src="{{message.d}}" mode="aspectFill"></image><view wx:else class="avatar-placeholder"></view><view class="{{['bubble', message.f && 'own-bubble']}}"><text class="message-text">{{message.e}}</text></view><image wx:if="{{message.g}}" class="avatar" src="{{message.h}}" mode="aspectFill"></image><view wx:else class="avatar-placeholder"></view></view></view></view><view wx:if="{{g}}" class="empty-state"><image class="empty-icon" src="{{h}}" mode="aspectFit"></image><text class="empty-text">暂无消息</text><text class="empty-tip">发送消息开始聊天吧</text></view></scroll-view><view class="input-area"><input type="text" class="message-input" placeholder="输入消息..." focus="{{m}}" confirm-type="send" bindconfirm="{{n}}" value="{{o}}" bindinput="{{p}}"/><view class="{{['send-btn', q && 'active']}}" bindtap="{{r}}"><text>发送</text></view></view></view>