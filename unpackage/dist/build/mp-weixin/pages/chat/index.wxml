<view class="container"><view class="tab-container"><view class="{{['tab', a && 'active']}}" bindtap="{{b}}"><text>附近 5公里</text></view><view class="{{['tab', c && 'active']}}" bindtap="{{d}}"><text>城市频道</text></view></view><view wx:if="{{e}}" class="content"><view class="location-info"><text class="location-text">{{f}}</text><view class="refresh-btn" bindtap="{{g}}"><text class="refresh-icon">🔄</text></view></view><scroll-view class="message-list nearby-message-list" scroll-y="true" scroll-top="{{m}}" scroll-with-animation="{{true}}" scroll-animation-duration="{{100}}" enhanced="{{true}}" bounces="{{false}}" show-scrollbar="{{false}}" bindscrolltolower="{{n}}" bindscroll="{{o}}" ref="nearbyMessageList"><view class="messages-container"><view wx:if="{{h}}" class="no-more"><text>没有更多消息了</text></view><view wx:for="{{i}}" wx:for-item="message" wx:key="i" class="message-item" id="{{message.j}}"><view wx:if="{{message.a}}" class="date-divider"><text>{{message.b}}</text></view><view class="message-content"><image class="avatar" src="{{message.c}}" mode="aspectFill"></image><view class="message-bubble"><view class="message-header"><text class="username">{{message.d}}</text><text class="time">{{message.e}}</text></view><text class="message-text">{{message.f}}</text><view wx:if="{{message.g}}" class="message-footer"><text class="distance">距离: {{message.h}}</text></view></view></view></view></view><view wx:if="{{j}}" class="empty-state"><image class="empty-icon" src="{{k}}" mode="aspectFit"></image><text class="empty-text">附近暂无消息</text><text class="empty-tip">发送一条消息，成为第一个发言的人吧</text></view><view wx:if="{{l}}" class="loading-state"><text>加载中...</text></view></scroll-view><view wx:if="{{p}}" class="back-to-bottom-btn" bindtap="{{q}}"><text class="icon">↓</text></view></view><view wx:if="{{r}}" class="content"><view class="location-info"><text class="location-text">{{s}}</text><view class="refresh-btn" bindtap="{{t}}"><text class="refresh-icon">🔄</text></view></view><scroll-view class="message-list city-message-list" scroll-y="true" scroll-top="{{A}}" scroll-with-animation="{{true}}" scroll-animation-duration="{{100}}" enhanced="{{true}}" bounces="{{false}}" show-scrollbar="{{false}}" bindscrolltolower="{{B}}" bindscroll="{{C}}" ref="cityMessageList"><view class="messages-container"><view wx:if="{{v}}" class="no-more"><text>没有更多消息了</text></view><view wx:for="{{w}}" wx:for-item="message" wx:key="g" class="message-item" id="{{message.h}}"><view wx:if="{{message.a}}" class="date-divider"><text>{{message.b}}</text></view><view class="message-content"><image class="avatar" src="{{message.c}}" mode="aspectFill"></image><view class="message-bubble"><view class="message-header"><text class="username">{{message.d}}</text><text class="time">{{message.e}}</text></view><text class="message-text">{{message.f}}</text></view></view></view></view><view wx:if="{{x}}" class="empty-state"><image class="empty-icon" src="{{y}}" mode="aspectFit"></image><text class="empty-text">城市频道暂无消息</text><text class="empty-tip">发送一条消息，成为第一个发言的人吧</text></view><view wx:if="{{z}}" class="loading-state"><text>加载中...</text></view></scroll-view><view wx:if="{{D}}" class="back-to-bottom-btn" bindtap="{{E}}"><text class="icon">↓</text></view></view><view class="input-area"><input type="text" class="message-input" placeholder="输入消息..." focus="{{F}}" confirm-type="send" bindconfirm="{{G}}" value="{{H}}" bindinput="{{I}}"/><view class="{{['send-btn', J && 'active']}}" bindtap="{{K}}"><text>发送</text></view></view></view>