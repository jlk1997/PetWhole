<view class="my-markers-container"><view class="header"><text class="page-title">我的标记</text></view><view class="markers-list"><view wx:if="{{a}}" class="loading-container"><text class="loading-text">加载中...</text></view><view wx:elif="{{b}}" class="empty-state"><image class="empty-icon" src="{{c}}" mode="aspectFit"></image><text class="empty-text">您还没有添加任何标记</text><button class="add-btn" bindtap="{{d}}">添加标记</button></view><block wx:else><view wx:for="{{e}}" wx:for-item="marker" wx:key="h" class="marker-item" bindtap="{{marker.i}}"><view class="marker-icon" style="{{'background-color:' + marker.b}}"><image class="icon" src="{{marker.a}}" mode="aspectFit"></image></view><view class="marker-info"><text class="marker-title">{{marker.c}}</text><text class="marker-desc">{{marker.d}}</text><text class="marker-type">类型: {{marker.e}}</text><text class="marker-date">创建时间: {{marker.f}}</text></view><view class="marker-actions"><button class="action-btn delete-btn" catchtap="{{marker.g}}">删除</button></view></view></block></view><view wx:if="{{f}}" class="confirm-dialog"><view class="dialog-content"><text class="dialog-title">确认删除</text><text class="dialog-text">确定要删除此标记吗？此操作不可撤销。</text><view class="dialog-buttons"><button class="dialog-btn cancel-btn" bindtap="{{g}}">取消</button><button class="dialog-btn confirm-btn" bindtap="{{h}}">确认删除</button></view></view></view><view wx:if="{{i}}" class="edit-dialog"><view class="edit-dialog-content"><view class="edit-dialog-header"><text class="edit-dialog-title">编辑标记</text><text class="edit-close-btn" bindtap="{{j}}">×</text></view><view class="edit-form"><view class="edit-form-item"><text class="edit-form-label">标记标题<text class="required">*</text></text><input class="edit-form-input" type="text" placeholder="请输入标记标题" maxlength="50" value="{{k}}" bindinput="{{l}}"/></view><view class="edit-form-item"><text class="edit-form-label">标记描述</text><block wx:if="{{r0}}"><textarea class="edit-form-textarea" placeholder="请输入标记描述" maxlength="200" value="{{m}}" bindinput="{{n}}"/></block></view><view class="edit-form-item"><text class="edit-form-label">标记类型</text><picker class="edit-form-picker" range="{{p}}" range-key="label" bindchange="{{q}}"><view class="edit-picker-value">{{o}}</view></picker></view><view wx:if="{{r}}" class="edit-form-item"><text class="edit-form-label">自定义类型名称</text><input class="edit-form-input" type="text" placeholder="请输入自定义类型名称" maxlength="20" value="{{s}}" bindinput="{{t}}"/></view><view class="edit-form-item"><text class="edit-form-label">标记颜色</text><view class="edit-color-selector"><view wx:for="{{v}}" wx:for-item="color" wx:key="a" style="{{'background-color:' + color.b}}" class="{{['edit-color-item', color.c && 'active']}}" bindtap="{{color.d}}"></view></view></view><view class="edit-form-item"><text class="edit-form-label">覆盖半径 (千米)</text><slider class="edit-radius-slider" min="{{0.1}}" max="{{10}}" step="{{0.1}}" value="{{w}}" show-value="{{true}}" bindchange="{{x}}"/><text class="edit-radius-value">{{y}}km</text></view><view class="edit-form-item checkbox-item"><checkbox checked="{{z}}" bindtap="{{A}}"/><text class="checkbox-label">公开此标记（允许其他用户看到）</text></view><view class="edit-form-actions"><button class="edit-btn cancel-btn" bindtap="{{B}}">取消</button><button class="edit-btn save-btn" bindtap="{{C}}">保存</button></view></view></view></view></view>