"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/amap.js"),a={__name:"WalkSummaryPopup",props:{visible:{type:Boolean,default:!1},duration:{type:Number,default:0},distance:{type:Number,default:0},pets:{type:Array,default:()=>[]},selectedPetIndex:{type:Number,default:0},shareContent:{type:String,default:""}},emits:["close","share"],setup(a,{emit:l}){const u=a,o=l,s=e.ref(u.selectedPetIndex||0),n=e.ref(u.shareContent||""),r=e.computed((()=>t.formatDuration(u.duration))),d=e.computed((()=>(u.distance/1e3).toFixed(2))),i=e.computed((()=>t.calculatePace(u.distance/1e3,u.duration))),c=e.computed((()=>u.pets.map((e=>e.name))));e.watch((()=>u.visible),(e=>{e||(s.value=0,n.value="")})),e.watch((()=>u.pets),(()=>{s.value=0}));const p=()=>{o("close")},v=e=>{s.value=Number(e.detail.value)},m=()=>{u.pets.length>0&&s.value<0?e.index.showToast({title:"请选择一个宠物",icon:"none"}):o("share",{selectedPetIndex:s.value,content:n.value})},f=()=>{o("close"),e.index.navigateTo({url:"/pages/walk/history"})};return(t,l)=>e.e({a:e.o(p),b:e.t(r.value),c:e.t(d.value),d:e.t(i.value),e:parseFloat(d.value)>1},(parseFloat(d.value),{}),{f:a.pets.length>0},a.pets.length>0?{g:e.t(c.value[s.value]||"请选择"),h:c.value,i:s.value,j:e.o(v)}:{},{k:n.value,l:e.o((e=>n.value=e.detail.value)),m:e.o(f),n:e.o(m),o:a.visible?1:""})}},l=e._export_sfc(a,[["__scopeId","data-v-ff033337"]]);wx.createComponent(l);
