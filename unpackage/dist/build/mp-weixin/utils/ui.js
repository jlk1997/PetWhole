"use strict";var e=Object.defineProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(o,n,t)=>n in o?e(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t;const i=require("../common/vendor.js");exports.hideLoading=()=>{i.index.hideLoading()},exports.navigateBack=(e=1)=>new Promise(((o,n)=>{i.index.navigateBack({delta:e,success:o,fail:e=>{console.error("返回失败:",e),n(e)}})})),exports.navigateTo=(e,o={})=>{if(e&&!e.startsWith("/")&&(e="/"+e),Object.keys(o).length>0){const n=Object.entries(o).map((([e,o])=>`${encodeURIComponent(e)}=${encodeURIComponent(o)}`)).join("&");e=e.includes("?")?`${e}&${n}`:`${e}?${n}`}return new Promise(((o,n)=>{i.index.navigateTo({url:e,success:o,fail:t=>{console.error("导航失败:",t),t.errMsg&&t.errMsg.includes("tabbar")?i.index.switchTab({url:e,success:o,fail:n}):n(t)}})}))},exports.showLoading=(e="加载中...")=>{i.index.showLoading({title:e,mask:!0})},exports.showModal=e=>new Promise((o=>{i.index.showModal({title:e.title||"提示",content:e.content||"",showCancel:!1!==e.showCancel,cancelText:e.cancelText||"取消",confirmText:e.confirmText||"确定",confirmColor:e.confirmColor||"#3B9E82",cancelColor:e.cancelColor||"#999999",success:e=>{e.confirm?o(!0):o(!1)},fail:()=>{o(!1)}})})),exports.showToast=e=>{"string"==typeof e?i.index.showToast({title:e,icon:"none",duration:2e3}):i.index.showToast(((e,i)=>{for(var s in i||(i={}))n.call(i,s)&&r(e,s,i[s]);if(o)for(var s of o(i))t.call(i,s)&&r(e,s,i[s]);return e})({title:e.title||"",icon:e.icon||"none",duration:e.duration||2e3},e))};
