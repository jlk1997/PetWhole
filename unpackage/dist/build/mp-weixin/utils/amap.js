"use strict";const t=require("../common/vendor.js"),o=t=>t*(Math.PI/180);exports.calculateDistance=(t,e,r,a)=>{const n=o(r-t),s=o(a-e),c=Math.sin(n/2)*Math.sin(n/2)+Math.cos(o(t))*Math.cos(o(r))*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},exports.calculatePace=(t,o)=>{if(!t||0===t)return"--'--\"/km";const e=o/(t/1e3);return`${Math.floor(e/60)}'${Math.floor(e%60).toString().padStart(2,"0")}"/km`},exports.formatDuration=t=>{const o=Math.floor(t/3600),e=Math.floor(t%3600/60),r=t%60;return o>0?`${o}小时${e}分`:e>0?`${e}分${r}秒`:`${r}秒`},exports.getCurrentLocation=()=>new Promise(((o,e)=>{t.index.getLocation({type:"gcj02",success:t=>{o({latitude:t.latitude,longitude:t.longitude})},fail:t=>{console.error("获取位置失败",t),e(t)}})}));
