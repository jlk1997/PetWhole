# DogRun 项目需求文档

## 项目概述

DogRun是一款专为遛狗爱好者设计的社交平台，旨在提供一个连接狗主人的社区，使他们能够跟踪自己的遛狗活动，分享经验，并与其他狗主人互动。该应用结合了位置服务、社交网络和宠物管理功能，为用户提供全方位的遛狗体验。

## 技术架构

- **前端**: 基于uni-app框架开发，支持多端部署（H5、小程序、App）
- **后端**: Node.js + Express，提供RESTful API服务
- **数据库**: MongoDB，存储用户、宠物和社区数据
- **地图服务**: 集成高德地图(Amap)，提供位置和路线追踪功能
- **身份验证**: 使用JWT进行用户认证

## 核心功能需求

### 1. 用户管理

#### 1.1 用户注册与登录
- [x] 用户可以注册新账号，提供用户名、邮箱和密码
- [x] 支持手机号码和验证码登录
- [x] 用户可以修改个人资料，包括昵称和头像
- [x] 实现JWT身份验证机制

#### 1.2 用户个人中心
- [x] 展示用户基本信息（头像、昵称、ID）
- [x] 显示用户关注数、粉丝数和发帖数量
- [x] 提供账号设置选项
- [x] 支持退出登录功能

### 2. 宠物管理

#### 2.1 宠物档案
- [x] 用户可以添加多个宠物档案
- [x] 记录宠物信息（名称、品种、生日、体重、照片等）
- [x] 支持编辑和删除宠物信息
- [x] 可选择当前要遛的宠物

#### 2.2 宠物健康记录
- [ ] 记录宠物的健康状况
- [ ] 提醒宠物的疫苗接种时间
- [ ] 记录宠物的饮食习惯

### 3. 遛狗功能

#### 3.1 遛狗记录
- [x] 用户可以开始/暂停/结束遛狗活动
- [x] 实时记录遛狗路线和时间
- [x] 计算遛狗距离和配速
- [x] 生成遛狗数据统计（时长、距离、路线图等）
- [x] 保存历史遛狗记录，方便用户查看

#### 3.2 地图功能
- [x] 显示用户当前位置和遛狗路线
- [x] 可调整地图缩放级别
- [x] 提供定位、放大、缩小等地图工具
- [ ] 显示附近的狗友和他们的宠物信息
- [ ] 用户头像替代默认位置标记
- [ ] 点击头像查看详细信息

### 4. 社区功能

#### 4.1 动态发布
- [x] 用户可发布文字、图片内容
- [ ] 支持在动态中标记宠物和位置
- [x] 可以查看、点赞和评论他人动态

#### 4.2 社交互动
- [x] 支持关注其他用户
- [x] 查看关注用户的动态
- [ ] 私信功能，与其他用户聊天
- [ ] 查看附近的其他狗主人

### 5. 通知系统

- [ ] 收到新的关注提醒
- [ ] 动态获得新点赞或评论的通知
- [ ] 系统公告和更新提醒

## 用户界面需求

### 1. 总体设计风格
- 现代、简洁的界面设计
- 以宠物和户外活动为主题的配色方案
- 响应式设计，适配不同设备尺寸

### 2. 导航结构
- 底部标签导航，包含：遛狗地图、社区、消息、个人中心
- 直观的图标和标签，便于用户理解和使用

### 3. 特定页面要求
- **地图页面**: 清晰展示遛狗路线，突出显示用户和其他狗主人位置
- **社区页面**: 流畅的信息流设计，便于浏览动态
- **个人中心**: 清晰展示个人和宠物信息

## 非功能需求

### 1. 性能要求
- 地图加载和操作要流畅响应
- 图片上传和加载优化
- 最小化电池消耗，特别是在后台定位时

### 2. 安全要求
- 用户数据加密存储
- 防止敏感信息泄露
- 位置分享权限控制

### 3. 兼容性要求
- 支持主流浏览器和移动设备
- 适配不同屏幕尺寸和分辨率

## 当前开发状态

### 已完成功能
- 用户注册、登录和身份验证系统
- 个人中心基本界面
- 宠物添加和管理功能
- 地图基础功能（显示位置、记录路线）
- 社区基本框架

### 待实现功能
1. 地图优化
   - 使用用户头像替代默认位置标记
   - 点击头像查看用户和宠物信息
   - 改进位置共享提示
   - 移除/修改遛狗时的配速显示

2. 社区功能完善
   - 实现帖子创建和发布功能
   - 完善社区交互（点赞、评论）

3. 用户互动
   - 实现关注功能
   - 添加消息通知系统

4. 个人中心功能完善
   - 实现所有按钮对应的页面和功能

## 后续迭代计划

### 近期迭代
- 完善已有功能，修复已知问题
- 优化用户体验，提高应用稳定性

### 中期规划
- 添加社交互动功能，如私信系统
- 宠物健康记录和提醒功能
- 扩展社区内容类型

### 长期规划
- 增加AI推荐算法，推荐合适的遛狗路线和社交对象
- 与宠物服务商（宠物医院、宠物店）合作
- 开发高级会员功能

## 技术债务与已知问题
- 地图标记显示问题
- 社区发帖未实现
- 个人中心按钮无响应
- 用户位置分享控制不完善

---

本文档将随项目进展不断更新，记录新的需求和功能状态。 